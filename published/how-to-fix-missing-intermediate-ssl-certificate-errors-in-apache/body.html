<h3>Defining the Problem</h3>

<preview>
	<p>I encountered a peculiar problem with my signed SSL certificates the other day. In the latest versions of Firefox and Chrome, the SSL certificate was being trusted and worked just fine. However, in Chrome in iPad (and likely other browsers with similarly limited capabilities), the certificate was deemed "untrusted."</p>
</preview>
<p>I ran an <a href="https://www.ssllabs.com/ssltest/">SSL Test</a> on the domain with which I was having the problem. This yielded a bit of very useful information:</p><pre class="code">Chain issues     Incomplete</pre><p>This gave me what I needed to further debug the problem. I discovered that I needed to have the server send a <i>Certificate Chain</i> with the initial SSL hand shake in order for browsers that do not support &quot;certificate discovery&quot; to find the <a href="http://en.wikipedia.org/wiki/Root_certificate">root certificate</a>.</p><p>For additional information, see:</p><p><a href="http://en.wikipedia.org/wiki/Intermediate_certificate_authorities">Intermediate Certificate Authorities</a></p><br><h3>Fixing the Problem</h3><p>First, you will need to search your CA&#39;s website to download their Intermediate CA file. This file will contain the concatenated chain of trusted CA certificates needed to reach the root certificate. Once you <i>find and download</i> the chain file, you will need to upload it to your server. Here&#39;s a list of Intermediate CA files for different Certificate Authorities:</p><p><a href="https://knowledge.rapidssl.com/library/VERISIGN/ALL_OTHER/RapidSSL%20Intermediate/RapidSSL_CA_bundle.pem">RapidSSL</a></p><p>For simplicity&#39;s sake, you will probably want to put the file in the same directory as your signed SSL certificate. Now you will need to configure your virtual host to send this chain file in its initial response for a hand shake.</p><p>If you&#39;re using the default virtual host for port 443, edit the following line:</p><pre class="code">#SSLCACertificateFile /etc/apache2/ssl.crt/ca-bundle.crt</pre><br><p>Uncomment the line and have it reference the path to the chain file you just uploaded to the server:</p><pre class="code">SSLCACertificateFile /etc/apache2/path/to/chain/file</pre><p>Restart Apache.</p><br><h3>Is the Problem Fixed?</h3><p>Run the <a href="https://www.ssllabs.com/ssltest/">SSL Test</a> again. If all is well, the chain issue should be resolved. If not, you can further debug the problem by using the following command in a terminal window on your personal computer (not on the server with the SSL issue):</p><pre class="code">openssl s_client -showcerts -verify 32 -connect domain-name:443</pre><p><i>You will need to have <strong>openssl</strong> installed to run this command</i></p><p><i>Be sure to replace <strong>domain-name</strong> with the domain that is having the SSL issue</i></p><p>The output of this command is quite dense and can be difficult to sort through. You will want to first find the top of the output, and then search for something like this:</p><pre class="code">verify error:num=20:unable to get local issuer certificate</pre>