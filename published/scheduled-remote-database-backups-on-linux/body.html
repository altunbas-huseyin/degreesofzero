<p>In this post I will walk you through the process of setting up a scheduled, automatic remote database backup on Linux.</p><p>If you haven&#39;t already done so, you&#39;ll need to <a href="/article/66">set up passwordless SSH</a> from the Server with the database(s) to the Server that will be storing the database backup files.</p><br><h3>Create New MySQL User to Perform Backups</h3><p>This step is to be performed on the server with the database(s).</p><p>To be on the safe side, it&#39;s a good idea not to use the root MySQL user to perform the database backups. So, let&#39;s create a new user with just enough privileges to create backups:</p><pre class="code">CREATE USER &#039;__DB_USER__&#039;@&#039;localhost&#039; IDENTIFIED BY  &#039;__DB_PASSWORD__&#039;;<br><br>GRANT SELECT , <br>RELOAD , <br>FILE , <br>SUPER , <br>LOCK TABLES , <br>SHOW VIEW ON *.* TO &#039;__DB_USER__&#039;@&#039;localhost&#039; IDENTIFIED BY  &#039;__DB_PASSWORD__&#039; WITH MAX_QUERIES_PER_HOUR 0 MAX_CONNECTIONS_PER_HOUR 0 MAX_UPDATES_PER_HOUR 0 MAX_USER_CONNECTIONS 0;<br><br>FLUSH PRIVILEGES;</pre><p><i>Replace <strong>__DB_USER__</strong> with the name for your new user.</i></p><p><i>Replace <strong>__DB_PASSWORD__</strong> with a strong, unique password.</i></p><br><h3>Create Bash Script</h3><p>This step is to be performed on the server with the database(s).</p><p>Create a new file called <i>backup.sh</i>:</p><pre class="code">sudo vim /home/backup.sh</pre><p>Add the contents of the following Gist to your new file:</p><p><a href="https://gist.github.com/chill117/6243212">mysql_backup.sh</a></p><p>Read the comments for instructions on how to use the script.</p><br><p>Set strictest possible permissions; so that the only thing that can be done is script execution by the file owner:</p><pre class="code">sudo chmod 0100 backup.sh</pre><br><p>Create directory to store the database backups:</p><pre class="code">cd /home<br>sudo mkdir backups<br>cd backups<br>sudo mkdir db</pre><br><p>Test the backup script:</p><pre class="code">sudo /home/backup.sh</pre><br><p>If it worked, you should see a <i>.sql.gz</i> file for each of the databases you specified in the backup script.</p><br><h3>Add Cron Task</h3><p>This step is to be performed on the server with the database(s).</p><p>Finally, you&#39;ll need to add a cron task to execute the script on a set schedule. Edit crontab for current the user:</p><pre class="code">crontab -e</pre><p>If you&#39;ve never used crontab on the current server before, it will ask you which editor you would like to use. I prefer <i>vim</i>, but you can use whichever you wish.</p><br><p>Append the following to the end of the crontab file:</p><pre class="code">30 2 * * * sudo /home/backup.sh</pre><p>This will run the backup script daily at 2:30 AM (server time). For more info on crontab: <a href="https://en.wikipedia.org/wiki/Crontab_(Unix_command">https://en.wikipedia.org/wiki/Crontab_(Unix_command</a>.</p><br><p>It might be a good idea to verify your server time with the following command:</p><pre class="code">date</pre><br><p>The output should be similar to the following:</p><pre class="code">Wed Jul 24 23:12:13 EDT 2013</pre><br><p>On Ubuntu you can use the following to set the timezone temporarily and get instructions on how to set it permanently:</p><pre class="code">tzselect</pre><br><p>If you need help setting the timezone on your linux distro:</p><p><a href="https://duckduckgo.com/?q=how+to+set+timezone+on+linux+server">https://duckduckgo.com/?q=how+to+set+timezone+on+linux+server</a></p><br><h3>Additional Resources</h3><p>These are not necessary to perform the remote, automatic backup, but you may find them useful.</p><p><a href="https://gist.github.com/chill117/6244241">prune_backups.sh</a> - <i>Automatically delete old backup files</i></p>